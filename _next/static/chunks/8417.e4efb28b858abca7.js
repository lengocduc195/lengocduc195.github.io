"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8417],{8417:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var i=s(5155),a=s(2115),n=s(6104),r=s(1115);function l(){let[e,t]=(0,a.useState)(0),[s,l]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{if(!n.v$)return;if("false"===localStorage.getItem("analytics_consent"))return void l(!1);let e=new Date,s=new Date(e.getTime()-18e5).getTime(),i=e.getTime(),a=(0,r.KR)(n.v$,"analytics/visitors"),c=(0,r.Zy)(a,e=>{if(e.exists()){let a=new Set,n=0;e.forEach(e=>{let t=e.val();t.timestamp&&t.timestamp>=s&&t.timestamp<=i&&!a.has(t.sessionId)&&(a.add(t.sessionId),n++)}),t(n)}else t(0);l(!1)});return()=>{c()}},[]),s)?(0,i.jsx)("div",{className:"text-sm text-gray-400",children:"Loading visitors..."}):(0,i.jsxs)("div",{className:"text-sm text-gray-400",children:[e," active ",1===e?"visitor":"visitors"," in the last 30 minutes"]})}}}]);