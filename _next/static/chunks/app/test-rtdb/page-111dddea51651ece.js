(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5354],{8770:(e,s,t)=>{Promise.resolve().then(t.bind(t,9284))},9284:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5155),a=t(2115),n=t(6104),l=t(283);function o(){let[e,s]=(0,a.useState)(null),[t,o]=(0,a.useState)(!1),[i,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),{currentUser:m}=(0,l.A)(),h=async()=>{o(!0);try{let e=await (0,n.LH)();s(e),console.log("Connection test result:",e)}catch(e){console.error("Error running connection test:",e),s({success:!1,error:String(e)})}finally{o(!1)}},g=async()=>{if(!m)return void d({success:!1,error:"User not logged in"});u(!0);try{let e={orderId:"test-order-".concat(Date.now()),items:[{id:"test-product-1",name:"Test Product",price:1e5,quantity:1,subtotal:1e5,image:"/assets/images/products/product-1.jpg"}],subtotal:1e5,shippingCost:15e3,total:115e3,customerInfo:{name:"Test User",email:m.email||"test@example.com",phone:"0123456789",address:"Test Address"},paymentMethod:"COD",shippingMethod:"standard",notes:"This is a test order",orderDate:new Date().toISOString()},s=await (0,n.rk)(m.uid,e);d({success:!0,orderId:s}),console.log("Test order created with ID:",s)}catch(e){console.error("Error creating test order:",e),d({success:!1,error:String(e)})}finally{u(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Firebase Realtime Database Test"}),(0,r.jsxs)("div",{className:"mb-8 p-4 bg-gray-100 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Connection Test"}),(0,r.jsx)("button",{onClick:h,disabled:t,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-blue-300",children:t?"Testing...":"Test Connection"}),e&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Result:"}),(0,r.jsx)("pre",{className:"bg-gray-800 text-white p-4 rounded mt-2 overflow-auto",children:JSON.stringify(e,null,2)})]})]}),(0,r.jsxs)("div",{className:"mb-8 p-4 bg-gray-100 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Create Test Order"}),m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:g,disabled:c,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:bg-green-300",children:c?"Creating...":"Create Test Order"}),i&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Result:"}),(0,r.jsx)("pre",{className:"bg-gray-800 text-white p-4 rounded mt-2 overflow-auto",children:JSON.stringify(i,null,2)})]})]}):(0,r.jsx)("p",{className:"text-red-500",children:"You need to be logged in to create a test order."})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Firebase Rules"}),(0,r.jsx)("p",{className:"mb-2",children:"If you're having issues with permissions, make sure your Firebase Realtime Database rules are set correctly:"}),(0,r.jsx)("pre",{className:"bg-gray-800 text-white p-4 rounded mt-2 overflow-auto",children:'{\n  "rules": {\n    ".read": "auth != null",\n    ".write": "auth != null"\n  }\n}'}),(0,r.jsx)("p",{className:"mt-4",children:"For testing purposes, you can temporarily set the rules to allow all access (not recommended for production):"}),(0,r.jsx)("pre",{className:"bg-gray-800 text-white p-4 rounded mt-2 overflow-auto",children:'{\n  "rules": {\n    ".read": true,\n    ".write": true\n  }\n}'})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,9507,7158,883,283,8441,1684,7358],()=>s(8770)),_N_E=e.O()}]);