(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{1243:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var n=s(5155),a=s(2115),i=s(5695),t=s(283),l=s(4126),d=s(6874),c=s.n(d);function u(e){let{children:r}=e,{currentUser:s,loading:d}=(0,t.A)(),u=(0,i.useRouter)();if((0,a.useEffect)(()=>{let e=window.location.pathname;d||s||"/admin/login"===e||u.push("/admin/login")},[s,d,u]),d)return(0,n.jsx)("div",{className:"container mx-auto p-6",children:(0,n.jsx)("p",{children:"Loading..."})});if(!s)return(0,n.jsx)("div",{className:"container mx-auto p-6",children:(0,n.jsx)("p",{children:"You must be logged in to access this page."})});let o="/admin/login"===u.pathname;return(0,n.jsx)(l.AdminProvider,{children:o?(0,n.jsx)("div",{className:"pt-16",children:r}):(0,n.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,n.jsxs)("div",{className:"w-full md:w-64 bg-gray-900 p-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Admin Panel"}),(0,n.jsx)("nav",{children:(0,n.jsxs)("ul",{className:"space-y-2",children:[(0,n.jsx)("li",{children:(0,n.jsx)(c(),{href:"/admin/analytics-dashboard",className:"block p-2 hover:bg-gray-800 rounded",children:"Analytics Dashboard"})}),(0,n.jsx)("li",{children:(0,n.jsx)(c(),{href:"/admin/orders",className:"block p-2 hover:bg-gray-800 rounded",children:"Orders"})}),(0,n.jsx)("li",{children:(0,n.jsx)(c(),{href:"/admin/products",className:"block p-2 hover:bg-gray-800 rounded",children:"Products"})}),(0,n.jsx)("li",{children:(0,n.jsx)(c(),{href:"/admin/users",className:"block p-2 hover:bg-gray-800 rounded",children:"Users"})}),(0,n.jsx)("li",{children:(0,n.jsx)(c(),{href:"/admin/create-admin",className:"block p-2 hover:bg-gray-800 rounded",children:"Create Admin"})}),(0,n.jsx)("li",{className:"border-t border-gray-700 pt-2 mt-2",children:(0,n.jsx)(c(),{href:"/",className:"block p-2 hover:bg-gray-800 rounded",children:"Back to Site"})})]})})]}),(0,n.jsx)("div",{className:"flex-1 p-4 pt-20",children:r})]})})}},2603:(e,r,s)=>{Promise.resolve().then(s.bind(s,1243))},4126:(e,r,s)=>{"use strict";s.d(r,{AdminProvider:()=>o,P:()=>h,z:()=>u});var n=s(5155),a=s(2115),i=s(5695),t=s(6104),l=s(283),d=s(9599);let c=(0,a.createContext)({isAdmin:!1,adminLoading:!0,adminUser:null}),u=()=>(0,a.useContext)(c),o=e=>{let{children:r}=e,{currentUser:s,loading:u,userRole:o}=(0,l.A)(),[h,m]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!0),[g,p]=(0,a.useState)(null);return(0,i.useRouter)(),(0,a.useEffect)(()=>{(async()=>{if(!u){if(!s){m(!1),p(null),f(!1);return}try{let e=(0,d.Mu)(o);e||(e=await (0,t._x)(s.uid)),m(e),p(e?s:null)}catch(e){console.error("Error checking admin status:",e),m(!1),p(null)}finally{f(!1)}}})()},[s,u,o]),(0,n.jsx)(c.Provider,{value:{isAdmin:h,adminLoading:x,adminUser:g},children:r})},h=e=>function(r){let{isAdmin:s,adminLoading:t}=u(),l=(0,i.useRouter)();return((0,a.useEffect)(()=>{t||s||l.push("/admin/login")},[s,t,l]),t)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Checking admin credentials..."}),(0,n.jsx)("p",{className:"text-gray-400",children:"Please wait while we verify your access."})]})}):s?(0,n.jsx)(e,{...r}):null}},5695:(e,r,s)=>{"use strict";var n=s(8999);s.o(n,"useParams")&&s.d(r,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(r,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(r,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(r,{useSearchParams:function(){return n.useSearchParams}})},9599:(e,r,s)=>{"use strict";s.d(r,{Mu:()=>i,cb:()=>t});let n={viewer:0,guest:0,user:1,editor:2,moderator:3,admin:4,superadmin:5},a=(e,r)=>(n.hasOwnProperty(e)||(e="guest"),n.hasOwnProperty(r)||(r="guest"),n[e]>=n[r]),i=e=>a(e,"admin"),t=e=>({viewer:"Người xem",guest:"Kh\xe1ch",user:"Người d\xf9ng đ\xe3 đăng k\xfd",editor:"Bi\xean tập vi\xean",moderator:"Quản trị vi\xean nội dung",admin:"Quản trị vi\xean",superadmin:"Quản trị vi\xean cấp cao"})[e]||e}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,9507,7158,6874,883,283,8441,1684,7358],()=>r(2603)),_N_E=e.O()}]);