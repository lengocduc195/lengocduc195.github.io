(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{4126:(e,r,t)=>{"use strict";t.d(r,{AdminProvider:()=>o,P:()=>m,z:()=>l});var s=t(5155),n=t(2115),a=t(5695),u=t(6104),i=t(283),c=t(9599);let d=(0,n.createContext)({isAdmin:!1,adminLoading:!0,adminUser:null}),l=()=>(0,n.useContext)(d),o=e=>{let{children:r}=e,{currentUser:t,loading:l,userRole:o}=(0,i.A)(),[m,h]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!0),[v,P]=(0,n.useState)(null);return(0,a.useRouter)(),(0,n.useEffect)(()=>{(async()=>{if(!l){if(!t){h(!1),P(null),x(!1);return}try{let e=(0,c.Mu)(o);e||(e=await (0,u._x)(t.uid)),h(e),P(e?t:null)}catch(e){console.error("Error checking admin status:",e),h(!1),P(null)}finally{x(!1)}}})()},[t,l,o]),(0,s.jsx)(d.Provider,{value:{isAdmin:m,adminLoading:f,adminUser:v},children:r})},m=e=>function(r){let{isAdmin:t,adminLoading:u}=l(),i=(0,a.useRouter)();return((0,n.useEffect)(()=>{u||t||i.push("/admin/login")},[t,u,i]),u)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Checking admin credentials..."}),(0,s.jsx)("p",{className:"text-gray-400",children:"Please wait while we verify your access."})]})}):t?(0,s.jsx)(e,{...r}):null}},5695:(e,r,t)=>{"use strict";var s=t(8999);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},7220:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(5155),n=t(2115),a=t(5695),u=t(283),i=t(4126);function c(){let{currentUser:e}=(0,u.A)(),{isAdmin:r,adminLoading:t}=(0,i.z)(),c=(0,a.useRouter)();return(0,n.useEffect)(()=>{t||(r?c.push("/admin/dashboard"):c.push("/admin/login"))},[e,r,t,c]),(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Redirecting..."}),(0,s.jsx)("p",{children:"Please wait while we redirect you to the admin dashboard."})]})}},8462:(e,r,t)=>{Promise.resolve().then(t.bind(t,7220))},9599:(e,r,t)=>{"use strict";t.d(r,{Mu:()=>a,cb:()=>u});let s={viewer:0,guest:0,user:1,editor:2,moderator:3,admin:4,superadmin:5},n=(e,r)=>(s.hasOwnProperty(e)||(e="guest"),s.hasOwnProperty(r)||(r="guest"),s[e]>=s[r]),a=e=>n(e,"admin"),u=e=>({viewer:"Người xem",guest:"Kh\xe1ch",user:"Người d\xf9ng đ\xe3 đăng k\xfd",editor:"Bi\xean tập vi\xean",moderator:"Quản trị vi\xean nội dung",admin:"Quản trị vi\xean",superadmin:"Quản trị vi\xean cấp cao"})[e]||e}},e=>{var r=r=>e(e.s=r);e.O(0,[2992,9507,7158,883,283,8441,1684,7358],()=>r(8462)),_N_E=e.O()}]);