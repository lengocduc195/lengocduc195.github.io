(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1625],{1368:(e,t,r)=>{"use strict";let a;r.d(t,{A:()=>o});let s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},n=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));let o=function(e,t,r){if(s.randomUUID&&!t&&!e)return s.randomUUID();let o=(e=e||{}).random??e.rng?.()??function(){if(!a){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(n)}();if(o.length<16)throw Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}(o)}},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return o}});let a=r(8229),s=r(8883),n=r(3063),l=a._(r(1193));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=n.Image},4102:(e,t,r)=>{Promise.resolve().then(r.bind(r,8891))},4634:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(5155),s=r(2115),n=r(6104);function l(e){let{isOpen:t,onClose:r,mode:l="login"}=e,[o,i]=(0,s.useState)(l),[d,c]=(0,s.useState)(""),[g,h]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[u,b]=(0,s.useState)(""),[p,y]=(0,s.useState)(""),[f,k]=(0,s.useState)(""),[v,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)("");(0,s.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);let C=async e=>{e.preventDefault(),k(""),j(!0);try{await (0,n.Lx)(d,g),N("Đăng nhập th\xe0nh c\xf4ng!"),setTimeout(()=>{r()},1500)}catch(e){e.message.includes("Firebase authentication is not initialized")?k("Hệ thống đăng nhập đang được bảo tr\xec. Vui l\xf2ng thử lại sau."):k("Đăng nhập thất bại: "+e.message)}finally{j(!1)}},S=async e=>{e.preventDefault(),k(""),j(!0);try{console.log("Starting registration process for email:",d);let e=await (0,n.DY)(d,g,"user");console.log("User registered successfully with Firebase Auth, UID:",e.uid);let t={email:d,name:m,phone:u,address:p,role:"user",createdAt:new Date};console.log("Prepared user data for storage:",{...t,createdAt:t.createdAt.toString()});let a=!1,s=!1;try{console.log("Attempting to store user data in Realtime Database"),await (0,n.BN)(e.uid,t),console.log("Successfully stored user data in Realtime Database"),a=!0}catch(e){console.error("Failed to store user data in Realtime Database:",e)}try{console.log("Attempting to store user data in Firestore"),await (0,n.Vz)(e.uid,t),console.log("Successfully stored user data in Firestore"),s=!0}catch(e){console.error("Failed to store user data in Firestore:",e)}a||s?(console.log("User data stored successfully in at least one database"),N("Đăng k\xfd th\xe0nh c\xf4ng! Bạn đ\xe3 được đăng nhập tự động."),setTimeout(()=>{r()},1500)):(console.warn("User was created in Auth but profile storage failed"),N("Đăng k\xfd th\xe0nh c\xf4ng, nhưng lưu th\xf4ng tin c\xe1 nh\xe2n thất bại. Bạn c\xf3 thể cập nhật th\xf4ng tin sau."),setTimeout(()=>{r()},2500))}catch(e){console.error("Registration error:",e),e.message.includes("Firebase authentication is not initialized")?k("Hệ thống đăng k\xfd đang được bảo tr\xec. Vui l\xf2ng thử lại sau."):e.message.includes("auth/email-already-in-use")?(k("Email n\xe0y đ\xe3 được đăng k\xfd. Bạn c\xf3 thể đăng nhập với email n\xe0y hoặc sử dụng email kh\xe1c."),setTimeout(()=>{setMode("login"),k("")},3e3)):(console.error("Registration error details:",e),k("Đăng k\xfd thất bại: "+e.message))}finally{j(!1)}};return t?(0,a.jsx)("div",{className:"auth-modal-container bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"auth-modal-content bg-white dark:bg-gray-800 p-6 relative",children:[(0,a.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{className:"flex-1 py-2 font-medium text-center ".concat("login"===o?"text-blue-600 border-b-2 border-blue-600 dark:text-blue-400 dark:border-blue-400":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),onClick:()=>i("login"),children:"Đăng nhập"}),(0,a.jsx)("button",{className:"flex-1 py-2 font-medium text-center ".concat("register"===o?"text-blue-600 border-b-2 border-blue-600 dark:text-blue-400 dark:border-blue-400":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),onClick:()=>i("register"),children:"Đăng k\xfd"})]})}),f&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md dark:bg-red-900/30 dark:text-red-400",children:f}),w&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-md dark:bg-green-900/30 dark:text-green-400",children:w}),"login"===o?(0,a.jsxs)("form",{onSubmit:C,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mật khẩu"}),(0,a.jsx)("input",{type:"password",id:"password",value:g,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full py-2 px-4 rounded-md text-white font-medium ".concat(v?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800"),children:v?"Đang xử l\xfd...":"Đăng nhập"})]}):(0,a.jsxs)("form",{onSubmit:S,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"register-email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"register-email",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"register-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mật khẩu"}),(0,a.jsx)("input",{type:"password",id:"register-password",value:g,onChange:e=>h(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Họ v\xe0 t\xean"}),(0,a.jsx)("input",{type:"text",id:"name",value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Số điện thoại"}),(0,a.jsx)("input",{type:"tel",id:"phone",value:u,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,pattern:"[0-9]{10,11}",title:"Số điện thoại phải c\xf3 10-11 chữ số"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Vui l\xf2ng nhập số điện thoại từ 10-11 chữ số (VD: 0912345678)"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Địa chỉ giao h\xe0ng"}),(0,a.jsx)("textarea",{id:"address",value:p,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,rows:3,placeholder:"Vui l\xf2ng nhập địa chỉ đầy đủ để giao h\xe0ng"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Vui l\xf2ng nhập đầy đủ địa chỉ: Số nh\xe0, đường, phường/x\xe3, quận/huyện, tỉnh/th\xe0nh phố"})]}),(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full py-2 px-4 rounded-md text-white font-medium ".concat(v?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800"),children:v?"Đang xử l\xfd...":"Đăng k\xfd"})]})]})}):null}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=r(2115);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8891:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var a=r(5155),s=r(2115),n=r(1469),l=r.n(n),o=r(5695),i=r(283),d=r(6104),c=r(4634);function g(e){let{className:t=""}=e,[r,n]=(0,s.useState)(null),[l,o]=(0,s.useState)(!0),[i,d]=(0,s.useState)(null);return((0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/assets/data/shop_info.json");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=await e.json();n({shipping:t.shipping,support:t.support})}catch(e){console.error("Error fetching shop info:",e),d(e.message||"Kh\xf4ng thể tải th\xf4ng tin vận chuyển")}finally{o(!1)}})()},[]),l)?(0,a.jsxs)("div",{className:"p-3 text-center ".concat(t),children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-blue-500 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Đang tải..."})]}):i?(0,a.jsx)("div",{className:"p-3 text-center text-red-500 dark:text-red-400 ".concat(t),children:(0,a.jsx)("p",{className:"text-sm",children:i})}):r?(0,a.jsxs)("div",{className:"space-y-4 ".concat(t),children:[(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-md p-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:r.shipping.title}),(0,a.jsx)("ul",{className:"space-y-1.5",children:r.shipping.items.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start text-sm",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400 mr-1.5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t))})]}),(0,a.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-md p-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:r.support.title}),(0,a.jsx)("ul",{className:"space-y-1.5",children:r.support.items.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start text-sm",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400 mr-1.5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t))})]})]}):null}var h=r(1368);function m(e){let{isOpen:t,onClose:r,product:n,quantity:l}=e,{currentUser:o,userProfile:m}=(0,i.A)(),[x,u]=(0,s.useState)(!1),[b,p]=(0,s.useState)(""),[y,f]=(0,s.useState)(""),[k,v]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[N,C]=(0,s.useState)(""),[S,M]=(0,s.useState)("COD"),[L,D]=(0,s.useState)("standard"),[O,F]=(0,s.useState)(!1),[P,B]=(0,s.useState)(""),[z,R]=(0,s.useState)(""),[V,T]=(0,s.useState)(!1),[E,I]=(0,s.useState)(!1),[U,H]=(0,s.useState)(""),[W,_]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&(m?(console.log("Auto-filling user information from profile:",m),p(m.name||""),f(m.email||""),v(m.phone||""),w(m.address||""),T(!0),I(!1)):o&&(console.log("Only email available from currentUser"),f(o.email||""),T(!0),I(!1)))},[m,o,t]);let q=(e,t)=>{e(t),V&&I(!0)},A=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),G=async e=>{e.preventDefault();let t=void 0!==d.j2&&void 0!==d.v$;if(console.log("Firebase availability check:"),console.log("- auth available:",void 0!==d.j2),console.log("- rtdb available:",void 0!==d.v$),console.log("- Overall Firebase available:",t),!o&&t&&window.confirm("Bạn chưa đăng nhập. Đăng nhập sẽ gi\xfap lưu th\xf4ng tin đặt h\xe0ng v\xe0 tự động điền cho lần sau. Bạn c\xf3 muốn đăng nhập kh\xf4ng?"))return void u(!0);F(!0),B("");try{let e=(0,h.A)().substring(0,8).toUpperCase();H(e);let a=n.salePrice||n.price,s=a*l,i=0;"express"===L?i=3e4:"standard"===L&&(i=15e3);let c=s+i,g={orderId:e,items:[{id:n.id,name:n.name,price:a,quantity:l,subtotal:a*l,image:n.image}],subtotal:s,shippingCost:i,total:c,customerInfo:{name:b,email:y,phone:k,address:j},paymentMethod:S,shippingMethod:L,notes:N,orderDate:new Date().toISOString()};if(console.log("CheckoutModal - Order data prepared:",g),console.log("Preparing to save order:",g),t){if(console.log("Firebase is available, checking auth state..."),console.log("Current user:",o?"Logged in (".concat(o.uid,")"):"Not logged in"),console.log("RTDB initialized:",d.v$?"Yes":"No"),o){console.log("Saving order for authenticated user:",o.uid);try{console.log("Calling createOrderRTDB with userId:",o.uid),console.log("Order data being passed:",JSON.stringify(g));let t=await (0,d.rk)(o.uid,g);console.log("Order saved to Realtime Database with ID:",t),await (0,d.fS)(o.uid,g),console.log("Order also saved to Firestore for compatibility");try{let t={lastOrderId:e,lastOrderDate:new Date().toISOString()};m?W?(console.log("User chose to update profile with new information"),await (0,d.M5)(o.uid,{name:b,email:y,phone:k,address:j,...t}),console.log("User profile fully updated with new information")):(console.log("User chose not to update profile with new address"),await (0,d.M5)(o.uid,t),console.log("Only order information updated, address unchanged")):(console.log("No existing user profile, creating new profile"),await (0,d.BN)(o.uid,{name:b,email:y,phone:k,address:j,...t}),console.log("New user profile created with order information"))}catch(e){console.error("Error updating user profile:",e)}}catch(e){console.error("Error saving order to Realtime Database:",e),console.error("Order will not be saved to Realtime Database")}}else{let e="guest-".concat(Date.now());console.log("Saving order for guest user:",e);try{console.log("Calling createOrderRTDB with guestId:",e),console.log("Order data being passed:",JSON.stringify(g));let t=await (0,d.rk)(e,g);console.log("Guest order saved with ID:",t)}catch(e){console.error("Error saving guest order to Realtime Database:",e)}}try{await (0,d.cI)(g,y),console.log("Order notification sent to admin email")}catch(e){console.error("Error sending order notification:",e)}}else console.error("Firebase is not available, order will not be saved"),console.log("Order data that would be saved:",g);R("Đặt h\xe0ng th\xe0nh c\xf4ng!"),setTimeout(()=>{r(),R("")},5e3)}catch(e){console.error("Order submission error:",e),B("Đặt h\xe0ng thất bại: "+e.message)}finally{F(!1)}};return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black bg-opacity-50 overflow-y-auto py-4 md:py-8",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-auto my-4 relative max-h-[90vh]",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white dark:bg-gray-800 rounded-t-lg z-10 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Đặt h\xe0ng"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"p-6 max-h-[calc(100vh-12rem)] overflow-y-auto",children:[!o&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-yellow-50 text-yellow-700 rounded-md dark:bg-yellow-900/30 dark:text-yellow-400",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,a.jsxs)("span",{children:["Bạn chưa đăng nhập. ",(0,a.jsx)("button",{type:"button",onClick:()=>u(!0),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Đăng nhập"})," để lưu th\xf4ng tin v\xe0 tự động điền cho lần sau."]})]})}),P&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md dark:bg-red-900/30 dark:text-red-400",children:P}),z&&(0,a.jsxs)("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded-md dark:bg-green-900/30 dark:text-green-400",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"font-medium",children:"Đặt h\xe0ng th\xe0nh c\xf4ng!"})]}),(0,a.jsxs)("p",{className:"mb-2",children:["M\xe3 đơn h\xe0ng của bạn: ",(0,a.jsx)("span",{className:"font-bold",children:U})]}),(0,a.jsx)("p",{children:"Ch\xfang t\xf4i sẽ li\xean hệ với bạn sớm nhất c\xf3 thể để x\xe1c nhận đơn h\xe0ng."}),o&&(0,a.jsx)("p",{className:"mt-2 text-sm",children:"Th\xf4ng tin đơn h\xe0ng đ\xe3 được lưu v\xe0o t\xe0i khoản của bạn."})]}),V&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 text-blue-700 rounded-md dark:bg-blue-900/30 dark:text-blue-400 flex justify-between items-center",children:[(0,a.jsx)("span",{children:E?"Th\xf4ng tin đ\xe3 được chỉnh sửa từ dữ liệu t\xe0i khoản của bạn.":"Th\xf4ng tin đ\xe3 được tự động điền từ t\xe0i khoản của bạn."}),E&&m&&(0,a.jsx)("button",{type:"button",onClick:()=>{m&&(p(m.name||""),f(m.email||""),v(m.phone||""),w(m.address||""),I(!1))},className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Kh\xf4i phục"})]}),(0,a.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-md overflow-hidden mr-3",children:(0,a.jsx)("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:n.name}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["SL: ",l]}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 ml-4",children:A((n.salePrice||n.price)*l)})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Tạm t\xednh:"}),(0,a.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:A((n.salePrice||n.price)*l)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Ph\xed vận chuyển:"}),(0,a.jsx)("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:A("express"===L?3e4:15e3)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-base font-medium mt-2 pt-2 border-t border-gray-200 dark:border-gray-600",children:[(0,a.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Tổng cộng:"}),(0,a.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:A((n.salePrice||n.price)*l+("express"===L?3e4:15e3))})]})]})]}),(0,a.jsxs)("form",{id:"checkout-form",onSubmit:G,className:"space-y-4",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Th\xf4ng tin kh\xe1ch h\xe0ng"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Họ v\xe0 t\xean"}),(0,a.jsx)("input",{type:"text",id:"name",value:b,onChange:e=>q(p,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",value:y,onChange:e=>q(f,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Số điện thoại"}),(0,a.jsx)("input",{type:"tel",id:"phone",value:k,onChange:e=>q(v,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,pattern:"[0-9]{10,11}",title:"Số điện thoại phải c\xf3 10-11 chữ số"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Vui l\xf2ng nhập số điện thoại từ 10-11 chữ số (VD: 0912345678)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Địa chỉ giao h\xe0ng"}),(0,a.jsx)("textarea",{id:"address",value:j,onChange:e=>q(w,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3,required:!0,placeholder:"Vui l\xf2ng nhập địa chỉ đầy đủ để giao h\xe0ng"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Vui l\xf2ng nhập đầy đủ địa chỉ: Số nh\xe0, đường, phường/x\xe3, quận/huyện, tỉnh/th\xe0nh phố"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ghi ch\xfa đơn h\xe0ng (kh\xf4ng bắt buộc)"}),(0,a.jsx)("textarea",{id:"notes",value:N,onChange:e=>q(C,e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:2,placeholder:"Ghi ch\xfa về đơn h\xe0ng, v\xed dụ: thời gian hay chỉ dẫn địa điểm giao h\xe0ng chi tiết hơn."})]}),o&&E&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"updateProfile",name:"updateProfile",type:"checkbox",checked:W,onChange:e=>_(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"updateProfile",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:"Cập nhật th\xf4ng tin n\xe0y v\xe0o t\xe0i khoản của t\xf4i"})]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 ml-7",children:"Nếu bạn kh\xf4ng chọn, th\xf4ng tin n\xe0y chỉ được sử dụng cho đơn h\xe0ng hiện tại"})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-6 mb-2",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Th\xf4ng tin thanh to\xe1n v\xe0 vận chuyển"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phương thức thanh to\xe1n"}),(0,a.jsxs)("div",{className:"mt-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"cod",name:"paymentMethod",type:"radio",checked:"COD"===S,onChange:()=>M("COD"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,a.jsx)("label",{htmlFor:"cod",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:"Thanh to\xe1n khi nhận h\xe0ng (COD)"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"bank-transfer",name:"paymentMethod",type:"radio",checked:"bank-transfer"===S,onChange:()=>M("bank-transfer"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,a.jsx)("label",{htmlFor:"bank-transfer",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:"Chuyển khoản ng\xe2n h\xe0ng"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phương thức vận chuyển"}),(0,a.jsxs)("div",{className:"mt-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"standard",name:"shippingMethod",type:"radio",checked:"standard"===L,onChange:()=>D("standard"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,a.jsx)("label",{htmlFor:"standard",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:"Giao h\xe0ng ti\xeau chuẩn (15.000đ) - 3-5 ng\xe0y"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"express",name:"shippingMethod",type:"radio",checked:"express"===L,onChange:()=>D("express"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,a.jsx)("label",{htmlFor:"express",className:"ml-3 block text-sm text-gray-700 dark:text-gray-300",children:"Giao h\xe0ng nhanh (30.000đ) - 1-2 ng\xe0y"})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Th\xf4ng tin vận chuyển & hỗ trợ"}),(0,a.jsx)(g,{className:"mt-2"})]})]})]})," ",(0,a.jsx)("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 rounded-b-lg z-10 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsx)("button",{type:"submit",form:"checkout-form",disabled:O,className:"w-full py-3 px-4 rounded-md text-white font-medium ".concat(O?"bg-green-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800"),children:O?"Đang xử l\xfd...":"Đặt h\xe0ng ngay"})})]})}),(0,a.jsx)(c.A,{isOpen:x,onClose:()=>u(!1),mode:"login"})]}):null}function x(e){var t,r,n,i;let{product:d,relatedProducts:c}=e,g=(0,o.useRouter)(),[h,x]=(0,s.useState)(1),[u,b]=(0,s.useState)(d.image),[p,y]=(0,s.useState)(!1),[f,k]=(0,s.useState)(!1),[v,j]=(0,s.useState)(null),[w,N]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/assets/data/shop_info.json");if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=await e.json();j({shipping:t.shipping,support:t.support})}catch(e){console.error("Error fetching shop info:",e)}finally{N(!1)}})()},[]);let C=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:(0,a.jsx)(l(),{src:u,alt:d.name,width:500,height:500,className:"w-full h-full object-cover"})}),d.gallery&&d.gallery.length>0&&(0,a.jsxs)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-md overflow-hidden border-2 cursor-pointer ".concat(u===d.image?"border-indigo-500":"border-gray-200 dark:border-gray-700"),onClick:()=>b(d.image),children:(0,a.jsx)(l(),{src:d.image,alt:d.name,width:80,height:80,className:"w-full h-full object-cover"})}),d.gallery.map((e,t)=>(0,a.jsx)("div",{className:"w-20 h-20 rounded-md overflow-hidden border-2 cursor-pointer ".concat(u===e?"border-indigo-500":"border-gray-200 dark:border-gray-700"),onClick:()=>b(e),children:(0,a.jsx)(l(),{src:e,alt:"".concat(d.name," - h\xecnh ").concat(t+1),width:80,height:80,className:"w-full h-full object-cover"})},t))]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-md bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:d.category}),d.inStock?(0,a.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"C\xf2n h\xe0ng"}):(0,a.jsx)("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Hết h\xe0ng"})]}),(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:d.name}),(0,a.jsx)("div",{className:"flex items-center mt-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("svg",{className:"w-5 h-5 ".concat(t<Math.floor(d.rating)?"text-yellow-400":"text-gray-300 dark:text-gray-600"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t)),(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:[d.rating," (",d.reviews," đ\xe1nh gi\xe1)"]})]})})]}),(0,a.jsx)("div",{className:"border-t border-b border-gray-200 dark:border-gray-700 py-4",children:(0,a.jsx)("div",{className:"flex items-center",children:d.salePrice?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:C(d.salePrice)}),(0,a.jsx)("span",{className:"ml-3 text-lg text-gray-500 line-through",children:C(d.price)}),(0,a.jsxs)("span",{className:"ml-3 px-2 py-1 text-xs font-semibold rounded-md bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:["Giảm ",Math.round((1-d.salePrice/d.price)*100),"%"]})]}):(0,a.jsx)("span",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:C(d.price)})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"M\xf4 tả"}),(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:d.description})]}),d.features&&d.features.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Đặc điểm nổi bật"}),(0,a.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 dark:text-gray-300",children:d.features.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Số lượng"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>x(Math.max(1,h-1)),className:"w-10 h-10 rounded-l-lg border border-gray-300 dark:border-gray-600 flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,a.jsx)("input",{type:"number",min:"1",value:h,onChange:e=>x(Math.max(1,parseInt(e.target.value)||1)),className:"w-16 h-10 border-t border-b border-gray-300 dark:border-gray-600 text-center bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),(0,a.jsx)("button",{onClick:()=>x(h+1),className:"w-10 h-10 rounded-r-lg border border-gray-300 dark:border-gray-600 flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("button",{onClick:()=>{y(!0),setTimeout(()=>{y(!1),alert("Đ\xe3 th\xeam ".concat(h," ").concat(d.name," v\xe0o giỏ h\xe0ng!"))},1e3)},disabled:!d.inStock||p,className:"flex-1 px-6 py-3 rounded-lg font-medium flex items-center justify-center transition-colors ".concat(d.inStock?"bg-indigo-600 text-white hover:bg-indigo-700 dark:bg-indigo-700 dark:hover:bg-indigo-800":"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500"),children:[p?(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),d.inStock?p?"Đang th\xeam...":"Th\xeam v\xe0o giỏ":"Hết h\xe0ng"]}),(0,a.jsxs)("button",{onClick:()=>{k(!0)},disabled:!d.inStock,className:"flex-1 px-6 py-3 rounded-lg font-medium flex items-center justify-center transition-colors ".concat(d.inStock?"bg-green-600 text-white hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800":"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500"),children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Mua ngay"]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[d.specifications&&Object.keys(d.specifications).length>0&&(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Th\xf4ng số kỹ thuật"}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(d.specifications).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"w-1/3 text-gray-600 dark:text-gray-400",children:t}),(0,a.jsx)("span",{className:"w-2/3 text-gray-900 dark:text-white",children:r})]},t)})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:(null==v||null==(t=v.shipping)?void 0:t.title)||"Th\xf4ng tin vận chuyển"}),(0,a.jsx)("div",{className:"space-y-3",children:(null==v||null==(r=v.shipping)?void 0:r.items)?v.shipping.items.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t)):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Miễn ph\xed vận chuyển cho đơn h\xe0ng tr\xean 500.000đ"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Giao h\xe0ng trong 2-3 ng\xe0y l\xe0m việc"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Đổi trả trong v\xf2ng 7 ng\xe0y"})]})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:(null==v||null==(n=v.support)?void 0:n.title)||"Hỗ trợ kh\xe1ch h\xe0ng"}),(0,a.jsx)("div",{className:"space-y-3",children:(null==v||null==(i=v.support)?void 0:i.items)?v.support.items.map((e,t)=>{let r;return r=e.includes("Hotline")?(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}):e.includes("Email")?(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,a.jsxs)("div",{className:"flex items-center",children:[r,(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:e})]},t)}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Hotline: 1900 1234"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Email: support@example.com"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:"Chat trực tuyến: 8h-22h h\xe0ng ng\xe0y"})]})]})})]})]})]}),d.longDescription&&(0,a.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Th\xf4ng tin chi tiết"}),(0,a.jsx)("div",{className:"prose prose-indigo max-w-none dark:prose-invert text-gray-700 dark:text-gray-300",children:d.longDescription.split("\n").map((e,t)=>(0,a.jsx)("p",{className:"mb-4",children:e},t))})]}),c.length>0&&(0,a.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Sản phẩm li\xean quan"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.map(e=>(0,a.jsxs)("div",{className:"group bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 flex flex-col h-full border border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-700 cursor-pointer",onClick:()=>g.push("/shop/".concat(e.slug)),children:[(0,a.jsx)("div",{className:"relative h-40 overflow-hidden",children:(0,a.jsx)(l(),{src:e.image,alt:e.name,width:300,height:200,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}),(0,a.jsxs)("div",{className:"p-3 flex-grow",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 line-clamp-2",children:e.name}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:C(e.salePrice||e.price)}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,a.jsx)("span",{className:"ml-1 text-xs text-gray-600 dark:text-gray-400",children:e.rating})]})]})]})]},e.id))})]}),(0,a.jsx)(m,{isOpen:f,onClose:()=>k(!1),product:d,quantity:h})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,9507,7158,883,3063,283,8441,1684,7358],()=>t(4102)),_N_E=e.O()}]);